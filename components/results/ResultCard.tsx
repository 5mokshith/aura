"use***REMOVED***client";

import***REMOVED***React***REMOVED***from***REMOVED***"react";
import***REMOVED***type***REMOVED***{***REMOVED***WorkflowResult***REMOVED***}***REMOVED***from***REMOVED***"@/types";
import***REMOVED***{***REMOVED***FileText,***REMOVED***Mail,***REMOVED***Calendar,***REMOVED***Sheet,***REMOVED***File***REMOVED***}***REMOVED***from***REMOVED***"lucide-react";
import***REMOVED***{***REMOVED***ActionButtons***REMOVED***}***REMOVED***from***REMOVED***"./ActionButtons";
import***REMOVED***{***REMOVED***FeedbackWidget***REMOVED***}***REMOVED***from***REMOVED***"./FeedbackWidget";
import***REMOVED***{***REMOVED***cn***REMOVED***}***REMOVED***from***REMOVED***"@/lib/utils";

interface***REMOVED***ResultCardProps***REMOVED***{
***REMOVED******REMOVED***result:***REMOVED***WorkflowResult;
***REMOVED******REMOVED***onFeedback:***REMOVED***(resultId:***REMOVED***string,***REMOVED***rating:***REMOVED***"positive"***REMOVED***|***REMOVED***"negative")***REMOVED***=>***REMOVED***void;
}

const***REMOVED***resultTypeConfig***REMOVED***=***REMOVED***{
***REMOVED******REMOVED***document:***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***icon:***REMOVED***FileText,
***REMOVED******REMOVED******REMOVED******REMOVED***label:***REMOVED***"Document",
***REMOVED******REMOVED******REMOVED******REMOVED***color:***REMOVED***"text-blue-600***REMOVED***dark:text-blue-400",
***REMOVED******REMOVED******REMOVED******REMOVED***bgColor:***REMOVED***"bg-blue-50***REMOVED***dark:bg-blue-950/30",
***REMOVED******REMOVED***},
***REMOVED******REMOVED***email:***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***icon:***REMOVED***Mail,
***REMOVED******REMOVED******REMOVED******REMOVED***label:***REMOVED***"Email",
***REMOVED******REMOVED******REMOVED******REMOVED***color:***REMOVED***"text-green-600***REMOVED***dark:text-green-400",
***REMOVED******REMOVED******REMOVED******REMOVED***bgColor:***REMOVED***"bg-green-50***REMOVED***dark:bg-green-950/30",
***REMOVED******REMOVED***},
***REMOVED******REMOVED***calendar:***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***icon:***REMOVED***Calendar,
***REMOVED******REMOVED******REMOVED******REMOVED***label:***REMOVED***"Calendar***REMOVED***Event",
***REMOVED******REMOVED******REMOVED******REMOVED***color:***REMOVED***"text-purple-600***REMOVED***dark:text-purple-400",
***REMOVED******REMOVED******REMOVED******REMOVED***bgColor:***REMOVED***"bg-purple-50***REMOVED***dark:bg-purple-950/30",
***REMOVED******REMOVED***},
***REMOVED******REMOVED***sheet:***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***icon:***REMOVED***Sheet,
***REMOVED******REMOVED******REMOVED******REMOVED***label:***REMOVED***"Spreadsheet",
***REMOVED******REMOVED******REMOVED******REMOVED***color:***REMOVED***"text-emerald-600***REMOVED***dark:text-emerald-400",
***REMOVED******REMOVED******REMOVED******REMOVED***bgColor:***REMOVED***"bg-emerald-50***REMOVED***dark:bg-emerald-950/30",
***REMOVED******REMOVED***},
***REMOVED******REMOVED***file:***REMOVED***{
***REMOVED******REMOVED******REMOVED******REMOVED***icon:***REMOVED***File,
***REMOVED******REMOVED******REMOVED******REMOVED***label:***REMOVED***"File",
***REMOVED******REMOVED******REMOVED******REMOVED***color:***REMOVED***"text-gray-600***REMOVED***dark:text-gray-400",
***REMOVED******REMOVED******REMOVED******REMOVED***bgColor:***REMOVED***"bg-gray-50***REMOVED***dark:bg-gray-950/30",
***REMOVED******REMOVED***},
};

export***REMOVED***function***REMOVED***ResultCard({***REMOVED***result,***REMOVED***onFeedback***REMOVED***}:***REMOVED***ResultCardProps)***REMOVED***{
***REMOVED******REMOVED***const***REMOVED***config***REMOVED***=***REMOVED***resultTypeConfig[result.type];
***REMOVED******REMOVED***const***REMOVED***Icon***REMOVED***=***REMOVED***config.icon;

***REMOVED******REMOVED***//***REMOVED***Truncate***REMOVED***preview***REMOVED***to***REMOVED***500***REMOVED***characters
***REMOVED******REMOVED***const***REMOVED***preview***REMOVED***=***REMOVED***result.preview
***REMOVED******REMOVED******REMOVED******REMOVED***?***REMOVED***result.preview.length***REMOVED***>***REMOVED***500
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***?***REMOVED***`${result.preview.substring(0,***REMOVED***500)}...`
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***:***REMOVED***result.preview
***REMOVED******REMOVED******REMOVED******REMOVED***:***REMOVED***null;

***REMOVED******REMOVED***return***REMOVED***(
***REMOVED******REMOVED******REMOVED******REMOVED***<article***REMOVED***
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***className="border***REMOVED***rounded-lg***REMOVED***bg-card***REMOVED***overflow-hidden***REMOVED***hover:shadow-md***REMOVED***transition-shadow"
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***role="listitem"
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***aria-label={`${config.label}:***REMOVED***${result.title}`}
***REMOVED******REMOVED******REMOVED******REMOVED***>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***{/****REMOVED***Header***REMOVED***with***REMOVED***icon***REMOVED***and***REMOVED***type***REMOVED****/}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<div***REMOVED***className={cn("px-4***REMOVED***py-3***REMOVED***flex***REMOVED***items-center***REMOVED***gap-3",***REMOVED***config.bgColor)}>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<div***REMOVED***className={cn("rounded-md***REMOVED***p-2***REMOVED***bg-white***REMOVED***dark:bg-gray-900",***REMOVED***config.bgColor)}***REMOVED***aria-hidden="true">
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<Icon***REMOVED***className={cn("size-5",***REMOVED***config.color)}***REMOVED***/>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***</div>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<div***REMOVED***className="flex-1***REMOVED***min-w-0">
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<p***REMOVED***className="text-xs***REMOVED***font-medium***REMOVED***text-muted-foreground***REMOVED***uppercase***REMOVED***tracking-wide">
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***{config.label}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***</p>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<h3***REMOVED***className="font-semibold***REMOVED***text-sm***REMOVED***truncate"***REMOVED***title={result.title}>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***{result.title}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***</h3>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***</div>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***</div>

***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***{/****REMOVED***Preview***REMOVED***section***REMOVED****/}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***{preview***REMOVED***&&***REMOVED***(
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<div***REMOVED***className="px-4***REMOVED***py-3***REMOVED***border-t***REMOVED***bg-muted/30">
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<p***REMOVED***className="text-sm***REMOVED***text-muted-foreground***REMOVED***line-clamp-4***REMOVED***whitespace-pre-wrap"***REMOVED***aria-label="Content***REMOVED***preview">
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***{preview}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***</p>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***</div>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***)}

***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***{/****REMOVED***Action***REMOVED***buttons***REMOVED****/}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<div***REMOVED***className="px-4***REMOVED***py-3***REMOVED***border-t">
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<ActionButtons***REMOVED***result={result}***REMOVED***/>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***</div>

***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***{/****REMOVED***Feedback***REMOVED***widget***REMOVED****/}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<div***REMOVED***className="px-4***REMOVED***py-3***REMOVED***border-t***REMOVED***bg-muted/20">
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***<FeedbackWidget
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***resultId={result.id}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***onFeedback={onFeedback}
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***/>
***REMOVED******REMOVED******REMOVED******REMOVED******REMOVED******REMOVED***</div>
***REMOVED******REMOVED******REMOVED******REMOVED***</article>
***REMOVED******REMOVED***);
}
